---
title: c语言提高2-二维数组,隐式类型转化,数组指针,指针数组,二级指针
date: 2014/10/25 08:00:00
categories: 技术
toc: True
tags: c语言
---
## 备注
### 备注1
强转为int或者char类型则是单纯的数值上的加减，都是每个地址相隔的个数大小，然后每个地址相隔一
强转为int*则是地址上的加减，相隔的是每个int的数量

### 备注2
六进制和八进制在字符串中表现的效果：
1. 8进制："\0数字数字"：格式是\+0后面的八进制数据， 如果说中间出现截断行为（中间出现不是8进制的字符）的话，则后面的都算是单个字符了，注意八进制最多包含0后面两位
2. 16进制：格式：\+x+十六进制数表示一个字节：如果说中间出现截断行为（中间出现不是16进制的字符）的话，则后面的都算是单个字符了

```c
#include <stdio.h>
#include <string.h>

int main(void)
{
    char str1[]="\0373xei";//037算一个字节  后面的依次每个字符算一个字节
    //char str1[]="\0383xei";//03算一个字节 后面的依次每个字符算一个字节
    //char str2[]="\x2aet76543";//x2ae 算一个字节  后面的依次每个字符算一个字节
    char str2[]="\x3456aeccaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";//这里只有一个字节因为全部都是十六进制的数据
	printf("%d\n",strlen(str1));
    printf("%d\n",strlen(str2));
    return 0;
}

```

## 类型转化(隐式)
小类型与大类型所运算或者逻辑时会默认转化为大类型，有符号的与无符号的会默认转化为无符号的
作用：防止数据丢失的一种机制
备注：数据本身是没有意义的，只要是要看我们是怎样去解释他
1：小类型->大类型：低位对齐
2：大类型->小类型：低位对齐，改变后注意两个类型的数据的符号是否相同，该过程一定会发生截断行为，但是数据是否丢失，不一定
3：有符号->无符号：注意负数转化为对应的无符号数可能对应一个很大的数（该过程中一定要注意类型），比如int类型的-1
例子：这里输出a<b 因为无符号和有符号进行数据或者逻辑运算的时候都会转化为无符号数运算，然后-1的无符号数比a大，所以输出
```c
unsigned int a=20;
int b=-1;
if(a>b)//都会默认转化为无符号数-1的无符号数很大
    printf("a>b");
else
    printf("a<b");
return 0;
```


## 二维数组
1. 理解二维数组或者一维多维数组的地址加减的方法：全部将数组名理解为一维数组来解决，而加减的个数就是步长（类型）的位数
2. 二维数组的在逻辑上理解是平面的，但是在内存上的物理存储是线性的，所以我们可以用线性的（一维）的方式来遍历二维数组，只是改变了类型（步长）
3. 二维数组的传参：行可以少，列不能少

### 代码
[二维数组](二维数组.c)

## 数组指针
指向数组的指针，本质是指针，所以专门用来接收数组的地址
1：无论一维还是二维数组名，本质上都是数组指针，只不过是类型不同而已
2：指针的运算1：地址的运算其实是计算相隔指定类型的个数2：转化为基本类型则是计算相隔的字节数
3：数值指针传参：不管传递几维数组的数组名，我们都可以理解为将该数组的数组指针传递过去
4：数组指针型参的推演：int [4] * arr (编译不过)=>int * arr[4](指针数组)=>int (*arr)[4](数组指针)

```c
#include <stdio.h>

//数组指针：定义：本质上都是指针，只不过指向是指向数组
//常见的数组指针：不管是几维数组，他们的数组名本质上都是数组指针：常见错误：一级数组取地址等同于数组指针，不是二级指针
int main(void)
{
    int array[10]={1,2,3,4,5,5,6,6,4,5};
    int (*p)[10] =array;
    for(int i =0 ;i<10;i++)
        printf("%d\n",array);
    return 0;
}

```

## 指针数组
数组里面的值都是指针，本质是数组
1：备注：我们遍历指针数组的时候常常在数组的末尾加上NULL，用该标识来表示结束
2：指针数组的数组名都是二级指针

```c
#include <stdio.h>

void traveseArray(char ** array,int n)//array就是一个实参的数据 实参是地址 所以该形参也是地址
{
    for(int i=0;i<n;i++)
        printf("%s\n",*(array+i));
}

//常见的处理指针数组的方法  在数组的末尾加上NULL作为结束标识
void traveseArray2(char ** array,int n)//array就是一个实参的数据 实参是地址 所以该形参也是地址
{
     while(*array)
        printf("%s\n",*(array++));
}
int main(void)
{
    char * pArray[] = {"apple","pear","banana","orange","pineApple",NULL};
    traveseArray2(&pArray,5);//指针数组
    return 0;
}

```


## 二级指针
指向指针的指针，常用于字符数组
1：n级指针可以改变n-1下所有的指针指向和数据
2：不管几维数组的指针步长都是4个字节

### 代码例子
[二级指针](二级指针.c)
---
title: c语言16-条件编译
date: 2014/08/30 08:00:00
categories: 技术
toc: True
tags: c语言
---
### 编译过程
预处理->预编译->汇编->链接

### 宏(define)
1. 宏的后面不用"；"符号，宏只是起的替换的作用，在预处理阶段完成（typedef是在链接的时候完成的）
2. 我们常用比较短并且比较常用的的删除进行宏化，这样嵌入到代码中，减少调用的开销，但是代价就是编译出来的文件会非常大（因为文件中出现了比较多的重复的代码）
3. \#: 利用宏来创建字符串（可以达到将其他类型数据嵌入到字符串中）
4. \##: 预处理的粘合剂
5. 预定义宏: 常用语打印日志
__DATE__ 进行预处理的日期（“MMmm dd yyyy”形式的字符串文字）
__FILE__ 代表当前源代码文件名的字符串文字
__LINE__ 代表当前源代码中的行号的整数常量
__TIME__ 源文件编译时间，格式“hh: mm: ss”
__func__ 当前所在函数名
在打印调试信息时打印这两
个宏 __FILE__ __LINE__ 可以给开发者非常有用的提示 

### 条件编译
单路: #if #endif 
双路: #if #else #endif
多路: #if #elif #elif #endif

### 头文件包含
1: 头文件的内容会被写入到包含该头文件的文件中
2: <>（一般用于系统文件）: 系统路径下面找  whereis stdio.h    
3: ""（一般用于自定义头文件）: 现在当前路径下找 ，找不到再去系统路径下找
4: 头文件自包含: 免去多余的前向申明
5: 避免头文件被重复包含: #ifndef __XX_H__ #define __XX_H__ //数据类型声明 //函数声明#endif （假设文件名为xx.h）
6: c语言是以文件单位进行编译的，编译期只需要函数申明即可，所以我们在给别人接口时候，先给.h（函数的申明文件即可），到时再把.o文件给他进行链接即可